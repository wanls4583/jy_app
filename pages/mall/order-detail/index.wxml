<import src="/template/goods-item.wxml" />
<view class="container">
	<view class="flex--center--around flex-direction-column padding-30 height-50vw white-background-color" wx:if="{{order.status==0}}">
		<text class="font-large danger-color font-bold">未支付</text>
		<text class="gray-color">超过15分钟未支付，订单自动失效</text>
		<view bindtap="onMallOrderPay" class="button plain primary">立即支付</view>
	</view>
	<view class="flex--center--center flex-direction-column height-150rpx white-background-color" wx:else>
		<text class="font-large font-bold {{order.statusColor}}">{{order._status}}</text>
		<view class="gray-color margin-top-10" wx:if="{{order.status==4}}">超过15分钟未支付，订单自动失效</view>
	</view>
	<view class="white-background-color padding-30 margin-top-20">
		<view>
			<text>{{order.contactName}}</text>
			<text class="margin-left-30">{{order.contactPhone}}</text>
		</view>
		<view class="gray-color margin-top-20">{{order.address}}</view>
	</view>
	<view class="padding-left-right-30 margin-top-20 white-background-color overflow-hidden">
		<view bindtap="onGoto" class="{{order.goods.length-1==index?'last-item':''}}" data-url="/pages/mall/product-detail/index?id={{product.id}}" wx:for="{{order.goods}}" wx:for-item="product" wx:key="id">
			<template data="{{goods:product}}" is="order-goods-item"></template>
		</view>
		<view class="flex--center--between padding-top-bottom-20 border-top">
			<texx>配送金额：{{order.deliveryCost}}</texx>
			<view class="primary-color margin-left-30">订单金额：￥{{order.totalAmount}}</view>
		</view>
	</view>
	<view class="padding-30 white-background-color margin-top-20">
		<view class="flex--center--between">
			<text class="gray-color">订单编号</text>
			<text class="gray-color">{{order.orderNo}}</text>
		</view>
		<view class="flex--center--between margin-top-20">
			<text class="gray-color">下单时间</text>
			<text class="gray-color">{{order.orderTime}}</text>
		</view>
	</view>
</view>
