<view class="container">
    <view class="position-fixed top-0 width-100">
        <van-search shape="round" placeholder="请输入产品" disabled="{{true}}" value="{{searchText}}" bind:search="onSearch" bind:change="onChangeText" bindtap="onGotoSearch"/>
        <van-tabs active="{{active}}" bind:change="onChangeTab">
            <van-tab title="营养套餐"></van-tab>
            <van-tab title="营养产品"></van-tab>
        </van-tabs>
    </view>
    <view class="height-100" style="padding-top:108px">
        <swiper class="width-100 height-100" current="{{active}}" bindchange="onChangeSwiper">
            <swiper-item>
                <pull-scroll-view bindscroll='onTaocanScroll' bindrefresh='onRefresh' bindscrolltolower='onLoadMore' lower-threshold='300px' stop-refresh='{{taocanData.stopRefresh}}'>
                    <view wx:for="{{pageArr}}" wx:for-item="page" wx:key="index" wx:if="{{page<=taocanData.lastPage}}" style="min-height:{{page<taocanData.totalPage ? wrapHeight : 0}}px">
                        <block wx:if='{{page>=taocanData.nowPage-1 && page<=taocanData.nowPage+1}}'>
                            <view wx:for="{{taocanData.pageList[page]}}" wx:for-item="product" wx:key="id" class="product flex--center--start padding-30 white-background-color border-bottom" data-id="{{product.id}}" bindtap="onclickProdcut">
                                <image class="width-150rpx height-150rpx border" src="{{product.goodsPic}}" mode="aspectFit" />
                                <view class="flex-direction-column flex-grow-1 flex--start--between height-150rpx padding-left-30">
                                    <view>{{product.goodsName}}</view>
                                    <view class="flex--center--between margin-top-30 width-100">
                                        <text class="gray-color">一天{{product.frequency}}次</text>
                                        <text class="danger-color">￥{{product.price}}/{{product._unit}}</text>
                                    </view>
                                </view>
                            </view>
                        </block>
                    </view>
                    <view wx:if="{{taocanData.totalPage>0&&taocanData.lastPage>=taocanData.totalPage}}" class="padding-30 gray-color align-center font-small">没有更多了</view>
                    <view wx:elif="{{taocanData.totalPage==0}}" class="padding-30 gray-color align-center font-small">
                        <van-empty description="未查询到相关商品，请重新搜索" />
                    </view>
                    <view wx:else class="padding-30 gray-color align-center font-small">正在加载中...</view>
                </pull-scroll-view>
            </swiper-item>
            <swiper-item>
                <pull-scroll-view bindscroll='onProductScroll' bindrefresh='onRefresh' bindscrolltolower='onLoadMore' lower-threshold='300px' stop-refresh='{{productData.stopRefresh}}'>
                    <view wx:for="{{pageArr}}" wx:for-item="page" wx:key="index" wx:if="{{page<=productData.lastPage}}" style="min-height:{{page<productData.totalPage ? wrapHeight : 0}}px">
                        <block wx:if='{{page>=productData.nowPage-1 && page<=productData.nowPage+1}}'>
                            <view wx:for="{{productData.pageList[page]}}" wx:for-item="product" wx:key="id" class="product flex--center--start padding-30 white-background-color border-bottom" data-id="{{product.id}}" bindtap="onclickProdcut">
                                <image class="width-150rpx height-150rpx border" src="{{product.goodsPic}}" mode="aspectFit" />
                                <view class="flex-direction-column flex-grow-1 flex--start--between height-150rpx padding-left-30">
                                    <view>{{product.goodsName}}</view>
                                    <view class="flex--center--between margin-top-30 width-100">
                                        <text class="gray-color">{{product.standardNum}}{{product._standardUnit}}/{{product._unit}}</text>
                                        <text class="danger-color">￥{{product.price}}/{{product._unit}}</text>
                                    </view>
                                </view>
                            </view>
                        </block>
                    </view>
                    <view wx:if="{{productData.totalPage>0&&productData.lastPage>=productData.totalPage}}" class="padding-30 gray-color align-center font-small">没有更多了</view>
                    <view wx:elif="{{productData.totalPage==0}}" class="padding-30 gray-color align-center font-small">
                        <van-empty description="未查询到相关商品，请重新搜索" />
                    </view>
                    <view wx:else class="padding-30 gray-color align-center font-small">正在加载中...</view>
                </pull-scroll-view>
            </swiper-item>
        </swiper>
    </view>
</view>