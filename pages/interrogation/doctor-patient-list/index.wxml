<!-- index.wxml -->
<view class="container">
	<view class="position-fixed top-0 z-index-100 width-100">
		<van-search bindtap="onGotoSearch" disabled="{{true}}" placeholder="请输入患者姓名" shape="round" />
	</view>
	<view class="height-100 padding-left-right-30 white-background-color" style="padding-top:54px">
		<pull-scroll-view bindrefresh="onRefresh" bindscrolltolower="onLoadMore" lower-threshold="300px" stop-refresh="{{stopRefresh}}">
			<view bindtap="onClickPatient" class="flex--start--between padding-top-20" data-id="{{item.id}}" wx:for="{{patientList}}" wx:key="id">
				<view class="height-100rpx width-100rpx overflow-hidden radius-50 border">
					<image class="width-100 height-100" mode="aspectFill" src="{{item.wxAvatar}}" />
				</view>
				<view class="flex-grow-1 margin-left-30 padding-bottom-20 border-bottom">
					<view class="flex-direction-column flex--start--between height-100rpx">
						<view class="width-100">
							<text>{{item.patientName}}</text>
							<text>，{{item._sex}}</text>
							<text>，{{item.age}}岁</text>
							<text>，{{item.height}}cm</text>
							<text>，{{item.weight}}kg</text>
						</view>
						<view>
							<text class="font-small gray-color">{{item.joinTime}}</text>
						</view>
					</view>
				</view>
			</view>
			<view class="padding-30" wx:if="{{!doctorInfo||doctorInfo.authStatus!=1}}">
				<view class="flex-direction-column flex--center--center" style="margin-top:50vw">
					<view class="warn-color">您未通过资质认证，认证后可使用该功能</view>
					<view bindtap="onGoto" class="button primary margin-top-30" data-url="/pages/interrogation/certification/index">去认证</view>
				</view>
			</view>
			<view class="padding-30" wx:elif="{{doctorInfo.status==3}}">
				<view class="flex-direction-column flex--center--center" style="margin-top:50vw">
					<view class="warn-color">您的医生资质已被禁用，请联系客服人员解决</view>
					<view bindtap="onClickPhone" class="button primary margin-top-30">联系客服</view>
				</view>
			</view>
			<view class="padding-30 gray-color align-center font-small" wx:elif="{{totalPage>0&&page>totalPage}}">没有更多了</view>
			<view class="padding-30" wx:elif="{{totalPage==0}}">
				<view class="flex-direction-column flex--center--center" style="margin-top:50vw">
					<view>您目前没有线上患者</view>
					<view class="margin-top-20">邀请患者扫码可加入线上工作室</view>
					<view bindtap="onGoto" class="button primary margin-top-30" data-url="/pages/interrogation/index?doctorId={{doctorInfo.id}}">我的二维码名片</view>
				</view>
			</view>
			<view class="padding-30 gray-color align-center font-small" wx:else>正在加载中...</view>
		</pull-scroll-view>
	</view>
</view>
