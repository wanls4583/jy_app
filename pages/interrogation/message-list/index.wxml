<!-- index.wxml -->
<view class="container">
	<pull-scroll-view bindrefresh="onRefresh" bindscrolltolower="onLoadMore" lower-threshold="300px" stop-refresh="{{stopRefresh}}">
		<view class="padding-left-right-30 white-background-color">
			<view
				bindtap="onClickMsg"
				class="flex--start--between padding-top-20 clickable"
				data-id="{{item.id}}"
				data-roomid="{{item.roomId}}"
				wx:for="{{messageList}}"
				wx:key="id"
			>
				<view class="flex-shrink-0 position-relative width-80rpx height-80rpx gray-background-color radius-8rpx">
					<view class="red-dot" wx:if="{{item.notReadNum}}">{{item.notReadNum}}</view>
					<image class="width-100 height-100 radius-8rpx" mode="aspectFill" src="{{item.wxAvatar}}" />
				</view>
				<view class="flex-grow-1 padding-bottom-20 margin-left-20 border-bottom">
					<view class="flex--start--center flex-direction-column height-80rpx">
						<view>{{item.wxNickname}}</view>
						<view class="gray-color font-small">{{item.lastMessage}}</view>
					</view>
				</view>
			</view>
		</view>
		<view class="padding-30 gray-color align-center font-small" wx:if="{{totalPage>0&&page>totalPage}}">没有更多了</view>
		<view class="padding-30 gray-color align-center font-small" wx:elif="{{totalPage==0}}">
			<van-empty description="您还没有聊天记录" />
		</view>
		<view class="padding-30 gray-color align-center font-small" wx:else>正在加载中...</view>
	</pull-scroll-view>
</view>
